+++
author = "i0Ek3"
date = "2021-07-12"
title = "N1 刷机记录：不能当盒子的 NAS 不是好矿机？"
slug = "fx-n1"
tags = [
    "Play/N1",
]
categories = [
    "BG",
]

+++

## TL;DR

如果不想听我啰嗦，可以直接下载固件按照相关教程自己刷机。当然，我的教程里会包括一些注意事项，万一正是你需要的呢？

- 固件下载（几乎不用下载额外的固件以及软件了）：https://cloud.189.cn/t/aUr6RzNrIbaa（访问码：6e4b）
- 小钢炮官方教程：https://rom.nanodm.net/N1/n1-fw-install-guide.md
- Armbian 刷机教程：https://www.right.com.cn/forum/thread-335609-1-1.html
- OMV NAS 刷机教程：https://www.right.com.cn/forum/thread-342164-1-1.html
- Volumio 音乐服务器刷机教程：https://www.right.com.cn/forum/forum.php?mod=viewthread&tid=330503
- CoreELEC 游戏主机刷机教程：https://www.right.com.cn/forum/forum.php?mod=viewthread&tid=331363

## 正文

我于 7 月 7 日在套路多上以 125 的价格拿到了年轻人第一台二手 N1，比起“0元购”以及爆仓后的 50 软妹币，简直是贵哭了好吗？好吧，虽是二手，但整体成色还是可以接受的，自己~~开心~~(心疼)就是了呀。

在盒子回来之前，我其实已经做了很多的功课，比如下载好所有的[固件（访问码：6e4b）](https://cloud.189.cn/t/aUr6RzNrIbaa)先，做好启动优盘。不过优盘真的很挑，找那些不太知名、 USB 2.0 接口、8G 的就行，一上一个行。

于是第二天，便开开心心的带着盒子去了单位。一到单位，我便一顿操作猛如虎，年轻人根本把持不住，结果就是只能刷进去电视盒子系统，其他系统一个都刷不进去，卒。

> Two thousand years later...

此时已经到了午饭后，我又折腾了一番，哈哈哈哈，奇葩的很，N1 根本没打算给我面子，照着[教程](https://rom.nanodm.net/N1/n1-fw-install-guide.md)做了很多遍结果还是很拉垮，算了吧，散了吧，就此结束吧，我要放弃了。

13:20 左右，拉出对面大姐赠送的折叠床，埋头睡去。此时睡在旁边的欢哥问我，睡着了吗？答曰 Nei！怎么睡的着呢？眼睛虽然闭着，但脑海里还是在想着如何解决这倔强的塑料壳，肯定是我哪里的步骤出了问题。虽然思绪万千但也不能影响午休，算是及时止损吧。

> 其实我一直在怀疑是不是我 2.9 RMB 买的公对公数据线有问题，事实证明根本不是。你看，你还在怀疑，你还在质疑。

14:20 午休结束，简单忙完手头的工作，继续开始折腾这[牛逼坏了](https://pockies.github.io/2019/03/07/phicomm-n1/)的塑料盒子。在我把 N1 接到路由器上后，情况略有好转，因为之前都是接着我桌子下面的交换机。另一个，我的笔记本上装了测试版的 Windows 11，并且装好了 ADB 工具（我将其复制到 /System32 文件夹下），但怎么也连不上设备，后来的后来，还是直接将 ADB 工具拷贝到 C 盘的某个位置，直接在命令行里运行才解决的。

此时，已经可以正常安装小钢炮并进行刷机了，看到刷机完成那一刻，年轻人留下了幸福的眼泪。当然了，这一切也得感谢欢哥的帮忙，尤其在我拔下刷机线的一瞬间他手忙脚乱的将优盘插入 USB 口中，害得我差点重新刷机。

我们一阵笑意，正好吹来凉爽的风，内心的世界是如此的平静与丰腴，年轻真好。

## 说点重要的事情吧

其实上面那些话都是废话，下面呢我就来说说刷机过程中遇到的一些问题及注意事项。

如果你要刷入电视盒子系统，而且你的盒子是原系统，那么你要准备以下几个物件：

- 牛逼坏了的 N1 盒子及牛逼坏了的电源
- HDMI 视频连接线
- HDMI 接口的显示器
- 公对公刷机线（即双 USB 线）
- 一根网线
- 随便一个鼠标
- 文头提供的刷机固件

来吧，造吧！

## 刷个机吧

### 连接

- 把你的 HDMI 线连接好盒子和显示器，网线插到路由器上（尽量不要连接交换机，地址会不一致）
- 插好电源，等待显示器上的变化，进入盒子系统
- 疯狂（其实就是 4 下而已）点击固件版本号，直到打开 ADB 模式
- 记好下面出现的 IP 地址

### 降级

- 将公对公线插到靠近 HDMI 的接口上，另一边的接口插到你用于刷机的电脑上，盒子上的另一个 USB 接口留给鼠标备用

> 注意要插对位置！我当时将公对公线的一头插入了盒子，另一头插入了一个毫不相关的电脑，卒。

- 在你用于刷机的电脑上打开固件中的降级包，鼠标右键管理员模式运行脚本，选择降级，输入 IP 地址，然后等待，完成后即降级成功

## 刷入电视盒子系统

### 烧录

- 安装烧录工具，完成后打开。在左上角点击文件加载固件，这里用的是 webpad 2.2 那个
- 关闭烧录软件右边的擦除 flash 和擦除 bootloader 选项
- 点击开始后，回到降级包那里，重新运行脚本，这回选择 3 进行线刷
- 按任意键后 N1 会重启进行线刷，大概需要 3 分钟左右，线刷完成后，点击停止

> 当时我这里出了点问题，死活刷不上，后来才发现我把公对公数据线插到了别的电脑上，我还一直怪罪是它 2.9 RMB 的问题。

- 拔掉公对公刷机线，然后拔掉电源，然后重新插上电源即可以看到电视盒子系统了

如果你这里已经是 webpad 的系统了，那么刷其他电视盒子系统就不需要降级了，可以利用烧录软件直接进行刷机。在烧录步骤后，即开机后，N1 上只连接 HDMI、网线和电源，点击烧录软件上的开始后，拔掉电源，插上公对公数据线，然后再插上电源，就会自动刷机，等待完成即可，完成后点击停止，拔掉公对公刷机线和电源，然后再插上电源，即可进入系统。刷机完成后，记得重置一下系统。

## 刷入小钢炮

如果你是从原系统刷小钢炮，则直接看官方灯大的教程即可，这里简单给出一些步骤作为参考。

> 本步骤以 webpad 为底包，参考上面的刷机步骤，从其他包刷都是类似的

- 网线连接路由器，开机，公对公连接操作的电脑
- 在 N1 系统界面的设置里查看是否开启 ADB，没有的话在开发者模式中开启
- 复制 adb 以及 fastboot 工具到 C 盘，然后在该目录下打开命令行（同时按住 Shift 和鼠标右键选择在此处打开命令行）执行 `adb connect` 你之前记录的 IP 地址（你的 IP 可以从路由器后台看到）
- 之前安装过的话，可以 `adb kill-server` 一下，重新连接
- 然后执行 `adb shell`，提示符变成 `p230$:/` 后输入 `reboot update`，**此时不要按回车（是真的不要按）**
- **注意这一条，请多读几遍！**准备好你做的镜像盘，在回车的一瞬间，拔掉公对公数据线，在原来的接口位置插入你的 U 盘（U 盘最好是 2.0 的）
- 此时显示器是黑屏的，没有关系，也可以不连，在你电脑的浏览器上输入http://你的ip:8086/ 进入后台，点击 start install
- 等待安装完成即可，完成后拔掉电源，拔掉优盘，再连上电源
- 此时重新在网页上输入你的 IP 地址，进入小钢炮的后台，密码为 root
- 检查 APPS 下的几项是否全绿，否则刷机失败，重新制作镜像盘进行刷机，直至成功
- 后续的步骤就是强化使用了，比如给 qbitorrent 和 aria2 添加 tracker list，前者在 GitHub 上有，后者可以到 edam.top/tk/ 上复制
- 将 aria 上 BT 设置里的超时时间都设置为 3， 原来的值为 60
- 后面就可以慢慢学着进阶使用了

到此为止，我对 N1 的折腾基本上告一段落了。我不喜欢看电视，所以最后将 N1 刷成了小钢炮，只不过工作略微繁忙，我一直没有进行学习使用小钢炮。后面打算再购买一台 N1 来做小型 NAS，希望它是真的牛逼坏了。当然，后面也会继续更新一些 N1 的使用教程，前提是我有时间学习并折腾。

ps: 最近图床整合还没有完全 ok，图片会在图床整合完毕后补上，请一定不要期待我的拍照水平。

## References

- [https://pockies.github.io/2019/03/07/phicomm-n1/](https://pockies.github.io/2019/03/07/phicomm-n1/)
- [https://rom.nanodm.net/N1/n1-fw-install-guide.md](https://rom.nanodm.net/N1/n1-fw-install-guide.md)
- [https://www.right.com.cn/](https://www.right.com.cn/)
- [https://post.smzdm.com/p/adwn42xx/](https://post.smzdm.com/p/adwn42xx/)
- Bilibili 以及 Youtube 上能找到的相关视频
